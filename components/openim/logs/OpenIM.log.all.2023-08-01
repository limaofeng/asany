2023-08-01 09:11:59.908	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "connected to 127.0.0.1:2181"}
2023-08-01 09:11:59.911	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "authenticated: id=72058225976672261, timeout=10000"}
2023-08-01 09:11:59.911	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "re-submitting `0` credentials after reconnect"}
2023-08-01 09:11:59.912	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateConnecting Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:11:59.912	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateConnected Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:11:59.912	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateHasSession Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:11:59.987	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[api/route.go:50]	load config	{"config": {"Zookeeper":{"Schema":"openim","ZkAddr":["127.0.0.1:2181"],"Username":"","Password":""},"Mysql":{"Address":["127.0.0.1:13306"],"Username":"root","Password":"4466KWVGjayXVXft","Database":"openIM_v3","MaxOpenConn":1000,"MaxIdleConn":100,"MaxLifeTime":60,"LogLevel":4,"SlowThreshold":500},"Mongo":{"Uri":"","Address":["127.0.0.1:37017"],"Database":"openIM_v3","Username":"root","Password":"LJKREc26A2BgziHW","MaxPoolSize":100},"Redis":{"Address":["127.0.0.1:16379"],"Username":"","Password":"AGtVAm6GKHTPaJNK"},"Kafka":{"Username":"","Password":"","Addr":["127.0.0.1:9092"],"LatestMsgToRedis":{"Topic":"latestMsgToRedis"},"MsgToMongo":{"Topic":"offlineMsgToMongoMysql"},"MsgToPush":{"Topic":"msgToPush"},"ConsumerGroupID":{"MsgToRedis":"redis","MsgToMongo":"mongo","MsgToMySql":"mysql","MsgToPush":"push"}},"Rpc":{"RegisterIP":"","ListenIP":"0.0.0.0"},"Api":{"OpenImApiPort":[10002],"ListenIP":"0.0.0.0"},"Object":{"Enable":"minio","ApiURL":"http://127.0.0.1:10002/object/","Minio":{"Bucket":"openim","Endpoint":"http://127.0.0.1:10005","AccessKeyID":"root","SecretAccessKey":"2dvAKLeKKBHFepfs","SessionToken":""},"Cos":{"BucketURL":"https://temp-1252357374.cos.ap-chengdu.myqcloud.com","SecretID":"","SecretKey":"","SessionToken":""},"Oss":{"Endpoint":"https://oss-cn-chengdu.aliyuncs.com","Bucket":"demo-9999999","BucketURL":"https://demo-9999999.oss-cn-chengdu.aliyuncs.com","AccessKeyID":"root","AccessKeySecret":"","SessionToken":""}},"RpcPort":{"OpenImUserPort":[10110],"OpenImFriendPort":[10120],"OpenImMessagePort":[10130],"OpenImMessageGatewayPort":[10140],"OpenImGroupPort":[10150],"OpenImAuthPort":[10160],"OpenImPushPort":[10170],"OpenImConversationPort":[10180],"OpenImRtcPort":null,"OpenImThirdPort":[10190]},"RpcRegisterName":{"OpenImUserName":"User","OpenImFriendName":"Friend","OpenImMsgName":"Msg","OpenImPushName":"Push","OpenImMessageGatewayName":"MessageGateway","OpenImGroupName":"Group","OpenImAuthName":"Auth","OpenImConversationName":"Conversation","OpenImThirdName":"Third"},"Log":{"StorageLocation":"../../../../../logs/","RotationTime":24,"RemainRotationCount":2,"RemainLogLevel":6,"IsStdout":false,"IsJson":false,"WithStack":false},"LongConnSvr":{"OpenImWsPort":[10001],"WebsocketMaxConnNum":100000,"WebsocketMaxMsgLen":4096,"WebsocketTimeout":10},"Push":{"Enable":"getui","GeTui":{"PushUrl":"https://restapi.getui.com/v2/","AppKey":"","Intent":"","MasterSecret":"","ChannelID":"","ChannelName":""},"Fcm":{"ServiceAccount":"x.json"},"Jpns":{"AppKey":"","MasterSecret":"","PushUrl":"","PushIntent":""}},"Manager":{"UserID":["openIM123456","openIM654321","openIMAdmin"],"Nickname":["system1","system2","system3"]},"MultiLoginPolicy":1,"ChatPersistenceMysql":true,"MsgCacheTimeout":86400,"GroupMessageHasReadReceiptEnable":true,"SingleMessageHasReadReceiptEnable":true,"RetainChatRecords":365,"ChatRecordsClearTime":"0 2 * * 3","MsgDestructTime":"0 2 * * *","Secret":"Eq4g6Q3DDi6FmXMu","TokenPolicy":{"Expire":90},"MessageVerify":{"FriendVerify":false},"IOSPush":{"PushSound":"xxx","BadgeCount":true,"Production":false},"Callback":{"CallbackUrl":"","CallbackBeforeSendSingleMsg":{"Enable":false,"CallbackTimeOut":5,"CallbackFailedContinue":true},"CallbackAfterSendSingleMsg":{"Enable":false,"CallbackTimeOut":5,"CallbackFailedContinue":null},"CallbackBeforeSendGroupMsg":{"Enable":false,"CallbackTimeOut":5,"CallbackFailedContinue":true},"CallbackAfterSendGroupMsg":{"Enable":false,"CallbackTimeOut":5,"CallbackFailedContinue":null},"CallbackMsgModify":{"Enable":false,"CallbackTimeOut":5,"CallbackFailedContinue":true},"CallbackUserOnline":{"Enable":false,"CallbackTimeOut":5,"CallbackFailedContinue":null},"CallbackUserOffline":{"Enable":false,"CallbackTimeOut":5,"CallbackFailedContinue":null},"CallbackUserKickOff":{"Enable":false,"CallbackTimeOut":5,"CallbackFailedContinue":null},"CallbackOfflinePush":{"Enable":false,"CallbackTimeOut":5,"CallbackFailedContinue":true},"CallbackOnlinePush":{"Enable":false,"CallbackTimeOut":5,"CallbackFailedContinue":true},"CallbackBeforeSuperGroupOnlinePush":{"Enable":false,"CallbackTimeOut":5,"CallbackFailedContinue":true},"CallbackBeforeAddFriend":{"Enable":false,"CallbackTimeOut":5,"CallbackFailedContinue":true},"CallbackBeforeCreateGroup":{"Enable":false,"CallbackTimeOut":5,"CallbackFailedContinue":true},"CallbackBeforeMemberJoinGroup":{"Enable":false,"CallbackTimeOut":5,"CallbackFailedContinue":true},"CallbackBeforeSetGroupMemberInfo":{"Enable":false,"CallbackTimeOut":5,"CallbackFailedContinue":true}},"Prometheus":{"Enable":false,"UserPrometheusPort":[20110],"FriendPrometheusPort":[20120],"MessagePrometheusPort":[20130],"MessageGatewayPrometheusPort":[20140],"GroupPrometheusPort":[20150],"AuthPrometheusPort":[20160],"PushPrometheusPort":[20170],"ConversationPrometheusPort":[20230],"RtcPrometheusPort":[21300],"MessageTransferPrometheusPort":[21400,21401,21402,21403],"ThirdPrometheusPort":[21301]},"Notification":{"GroupCreated":{"IsSendMsg":true,"ReliabilityLevel":1,"UnreadCount":false,"OfflinePush":{"Enable":false,"Title":"create group title","Desc":"create group desc","Ext":"create group ext"}},"GroupInfoSet":{"IsSendMsg":false,"ReliabilityLevel":1,"UnreadCount":false,"OfflinePush":{"Enable":false,"Title":"groupInfoSet title","Desc":"groupInfoSet desc","Ext":"groupInfoSet ext"}},"JoinGroupApplication":{"IsSendMsg":false,"ReliabilityLevel":1,"UnreadCount":false,"OfflinePush":{"Enable":false,"Title":"joinGroupApplication title","Desc":"joinGroupApplication desc","Ext":"joinGroupApplication ext"}},"MemberQuit":{"IsSendMsg":true,"ReliabilityLevel":1,"UnreadCount":false,"OfflinePush":{"Enable":false,"Title":"memberQuit title","Desc":"memberQuit desc","Ext":"memberQuit ext"}},"GroupApplicationAccepted":{"IsSendMsg":false,"ReliabilityLevel":1,"UnreadCount":false,"OfflinePush":{"Enable":false,"Title":"groupApplicationAccepted title","Desc":"groupApplicationAccepted desc","Ext":"groupApplicationAccepted ext"}},"GroupApplicationRejected":{"IsSendMsg":false,"ReliabilityLevel":1,"UnreadCount":false,"OfflinePush":{"Enable":false,"Title":" title","Desc":" desc","Ext":" ext"}},"GroupOwnerTransferred":{"IsSendMsg":true,"ReliabilityLevel":1,"UnreadCount":false,"OfflinePush":{"Enable":false,"Title":"groupOwnerTransferred title","Desc":"groupOwnerTransferred desc","Ext":"groupOwnerTransferred ext"}},"MemberKicked":{"IsSendMsg":true,"ReliabilityLevel":1,"UnreadCount":false,"OfflinePush":{"Enable":false,"Title":"memberKicked title","Desc":"memberKicked desc","Ext":"memberKicked ext"}},"MemberInvited":{"IsSendMsg":true,"ReliabilityLevel":1,"UnreadCount":false,"OfflinePush":{"Enable":false,"Title":"memberInvited title","Desc":"memberInvited desc","Ext":"memberInvited ext"}},"MemberEnter":{"IsSendMsg":true,"ReliabilityLevel":1,"UnreadCount":false,"OfflinePush":{"Enable":false,"Title":"memberEnter title","Desc":"memberEnter desc","Ext":"memberEnter ext"}},"GroupDismissed":{"IsSendMsg":true,"ReliabilityLevel":1,"UnreadCount":false,"OfflinePush":{"Enable":false,"Title":"groupDismissed title","Desc":"groupDismissed desc","Ext":"groupDismissed ext"}},"GroupMuted":{"IsSendMsg":true,"ReliabilityLevel":1,"UnreadCount":false,"OfflinePush":{"Enable":false,"Title":"groupMuted title","Desc":"groupMuted desc","Ext":"groupMuted ext"}},"GroupCancelMuted":{"IsSendMsg":true,"ReliabilityLevel":1,"UnreadCount":false,"OfflinePush":{"Enable":false,"Title":"groupCancelMuted title","Desc":"groupCancelMuted desc","Ext":"groupCancelMuted ext"}},"GroupMemberMuted":{"IsSendMsg":true,"ReliabilityLevel":1,"UnreadCount":false,"OfflinePush":{"Enable":false,"Title":"groupMemberMuted title","Desc":"groupMemberMuted desc","Ext":"groupMemberMuted ext"}},"GroupMemberCancelMuted":{"IsSendMsg":true,"ReliabilityLevel":1,"UnreadCount":false,"OfflinePush":{"Enable":false,"Title":"groupMemberCancelMuted title","Desc":"groupMemberCancelMuted desc","Ext":"groupMemberCancelMuted ext"}},"GroupMemberInfoSet":{"IsSendMsg":false,"ReliabilityLevel":1,"UnreadCount":false,"OfflinePush":{"Enable":false,"Title":"groupMemberInfoSet title","Desc":"groupMemberInfoSet desc","Ext":"groupMemberInfoSet ext"}},"GroupMemberSetToAdmin":{"IsSendMsg":false,"ReliabilityLevel":0,"UnreadCount":false,"OfflinePush":{"Enable":false,"Title":"","Desc":"","Ext":""}},"GroupMemberSetToOrdinary":{"IsSendMsg":false,"ReliabilityLevel":0,"UnreadCount":false,"OfflinePush":{"Enable":false,"Title":"","Desc":"","Ext":""}},"GroupInfoSetAnnouncement":{"IsSendMsg":true,"ReliabilityLevel":1,"UnreadCount":false,"OfflinePush":{"Enable":false,"Title":"groupInfoSetAnnouncement title","Desc":"groupInfoSetAnnouncement desc","Ext":"groupInfoSetAnnouncement ext"}},"GroupInfoSetName":{"IsSendMsg":true,"ReliabilityLevel":1,"UnreadCount":false,"OfflinePush":{"Enable":false,"Title":"groupInfoSetName title","Desc":"groupInfoSetName desc","Ext":"groupInfoSetName ext"}},"UserInfoUpdated":{"IsSendMsg":false,"ReliabilityLevel":1,"UnreadCount":false,"OfflinePush":{"Enable":true,"Title":"Remove a blocked user","Desc":"Remove a blocked user","Ext":"Remove a blocked user"}},"FriendApplicationAdded":{"IsSendMsg":false,"ReliabilityLevel":1,"UnreadCount":false,"OfflinePush":{"Enable":false,"Title":"Somebody applies to add you as a friend","Desc":"Somebody applies to add you as a friend","Ext":"Somebody applies to add you as a friend"}},"FriendApplicationApproved":{"IsSendMsg":true,"ReliabilityLevel":1,"UnreadCount":false,"OfflinePush":{"Enable":true,"Title":"Someone applies to add your friend application","Desc":"Someone applies to add your friend application","Ext":"Someone applies to add your friend application"}},"FriendApplicationRejected":{"IsSendMsg":false,"ReliabilityLevel":1,"UnreadCount":false,"OfflinePush":{"Enable":true,"Title":"Someone rejected your friend application","Desc":"Someone rejected your friend application","Ext":"Someone rejected your friend application"}},"FriendAdded":{"IsSendMsg":false,"ReliabilityLevel":1,"UnreadCount":false,"OfflinePush":{"Enable":true,"Title":"We have become friends","Desc":"We have become friends","Ext":"We have become friends"}},"FriendDeleted":{"IsSendMsg":false,"ReliabilityLevel":1,"UnreadCount":false,"OfflinePush":{"Enable":true,"Title":"deleted a friend","Desc":"deleted a friend","Ext":"deleted a friend"}},"FriendRemarkSet":{"IsSendMsg":false,"ReliabilityLevel":1,"UnreadCount":false,"OfflinePush":{"Enable":true,"Title":"Your friend's profile has been changed","Desc":"Your friend's profile has been changed","Ext":"Your friend's profile has been changed"}},"BlackAdded":{"IsSendMsg":false,"ReliabilityLevel":1,"UnreadCount":false,"OfflinePush":{"Enable":true,"Title":"blocked a user","Desc":"blocked a user","Ext":"blocked a user"}},"BlackDeleted":{"IsSendMsg":false,"ReliabilityLevel":1,"UnreadCount":false,"OfflinePush":{"Enable":true,"Title":"Remove a blocked user","Desc":"Remove a blocked user","Ext":"Remove a blocked user"}},"FriendInfoUpdated":{"IsSendMsg":false,"ReliabilityLevel":1,"UnreadCount":false,"OfflinePush":{"Enable":true,"Title":"friend info updated","Desc":"friend info updated","Ext":"friend info updated"}},"ConversationChanged":{"IsSendMsg":false,"ReliabilityLevel":1,"UnreadCount":false,"OfflinePush":{"Enable":true,"Title":"conversation changed","Desc":"conversation changed","Ext":"conversation changed"}},"ConversationSetPrivate":{"IsSendMsg":true,"ReliabilityLevel":1,"UnreadCount":false,"OfflinePush":{"Enable":true,"Title":"burn after reading","Desc":"burn after reading","Ext":"burn after reading"}}}}}
2023-08-01 09:11:59.988	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: User"}
2023-08-01 09:11:59.988	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/User RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xfd1e00"}
2023-08-01 09:11:59.988	[37mDEBUG[0m	[37m[PID:55][0m	[37mapi[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/User","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "User"}
2023-08-01 09:11:59.991	[31mERROR[0m	[31m[PID:55][0m	[31mapi[0m	[zookeeper/resolver.go:52]	UpdateState error, conns is nil from svr	{"conns": null, "zk path": "/User", "error": "bad resolver state"}
2023-08-01 09:11:59.991	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/User RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xfd1e00, key: User"}
2023-08-01 09:11:59.991	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: Group"}
2023-08-01 09:11:59.992	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Group RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xfd1e00"}
2023-08-01 09:11:59.992	[37mDEBUG[0m	[37m[PID:55][0m	[37mapi[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Group","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Group"}
2023-08-01 09:11:59.993	[31mERROR[0m	[31m[PID:55][0m	[31mapi[0m	[zookeeper/resolver.go:52]	UpdateState error, conns is nil from svr	{"conns": null, "zk path": "/Group", "error": "bad resolver state"}
2023-08-01 09:11:59.993	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Group RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xfd1e00, key: Group"}
2023-08-01 09:11:59.993	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: Friend"}
2023-08-01 09:11:59.993	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Friend RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xfd1e00"}
2023-08-01 09:11:59.993	[37mDEBUG[0m	[37m[PID:55][0m	[37mapi[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Friend","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Friend"}
2023-08-01 09:11:59.994	[31mERROR[0m	[31m[PID:55][0m	[31mapi[0m	[zookeeper/resolver.go:52]	UpdateState error, conns is nil from svr	{"conns": null, "zk path": "/Friend", "error": "bad resolver state"}
2023-08-01 09:11:59.994	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Friend RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xfd1e00, key: Friend"}
2023-08-01 09:11:59.994	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: Msg"}
2023-08-01 09:11:59.994	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Msg RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xfd1e00"}
2023-08-01 09:11:59.994	[37mDEBUG[0m	[37m[PID:55][0m	[37mapi[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Msg","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Msg"}
2023-08-01 09:11:59.995	[31mERROR[0m	[31m[PID:55][0m	[31mapi[0m	[zookeeper/resolver.go:52]	UpdateState error, conns is nil from svr	{"conns": null, "zk path": "/Msg", "error": "bad resolver state"}
2023-08-01 09:11:59.995	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Msg RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xfd1e00, key: Msg"}
2023-08-01 09:11:59.995	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: Conversation"}
2023-08-01 09:11:59.996	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Conversation RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xfd1e00"}
2023-08-01 09:11:59.996	[37mDEBUG[0m	[37m[PID:55][0m	[37mapi[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Conversation","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Conversation"}
2023-08-01 09:11:59.997	[31mERROR[0m	[31m[PID:55][0m	[31mapi[0m	[zookeeper/resolver.go:52]	UpdateState error, conns is nil from svr	{"conns": null, "zk path": "/Conversation", "error": "bad resolver state"}
2023-08-01 09:11:59.997	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Conversation RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xfd1e00, key: Conversation"}
2023-08-01 09:11:59.997	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: Auth"}
2023-08-01 09:11:59.997	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Auth RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xfd1e00"}
2023-08-01 09:11:59.997	[37mDEBUG[0m	[37m[PID:55][0m	[37mapi[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Auth","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Auth"}
2023-08-01 09:11:59.998	[31mERROR[0m	[31m[PID:55][0m	[31mapi[0m	[zookeeper/resolver.go:52]	UpdateState error, conns is nil from svr	{"conns": null, "zk path": "/Auth", "error": "bad resolver state"}
2023-08-01 09:11:59.998	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Auth RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xfd1e00, key: Auth"}
2023-08-01 09:11:59.998	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: Third"}
2023-08-01 09:11:59.998	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Third RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xfd1e00"}
2023-08-01 09:11:59.998	[37mDEBUG[0m	[37m[PID:55][0m	[37mapi[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Third","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Third"}
2023-08-01 09:11:59.999	[31mERROR[0m	[31m[PID:55][0m	[31mapi[0m	[zookeeper/resolver.go:52]	UpdateState error, conns is nil from svr	{"conns": null, "zk path": "/Third", "error": "bad resolver state"}
2023-08-01 09:12:00.000	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Third RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xfd1e00, key: Third"}
2023-08-01 09:12:00.000	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[openim-api/main.go:93]	start server success	{"address": "0.0.0.0:10002", "version": "v3.0.0"}
2023-08-01 09:12:00.918	[34mINFO[0m	[34m[PID:92][0m	[34muser[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "connected to 127.0.0.1:2181"}
2023-08-01 09:12:00.920	[34mINFO[0m	[34m[PID:92][0m	[34muser[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "authenticated: id=72058225976672269, timeout=10000"}
2023-08-01 09:12:00.921	[34mINFO[0m	[34m[PID:92][0m	[34muser[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "re-submitting `0` credentials after reconnect"}
2023-08-01 09:12:00.921	[34mINFO[0m	[34m[PID:92][0m	[34muser[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateConnecting Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:00.921	[34mINFO[0m	[34m[PID:92][0m	[34muser[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateConnected Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:00.921	[34mINFO[0m	[34m[PID:92][0m	[34muser[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateHasSession Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:00.980	[37mDEBUG[0m	[37m[PID:92][0m	[37muser[0m	[log/sql_logger.go:84]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/user/user.go:66", "elapsed time": "0.255076(ms)", "sql": "SELECT DATABASE()"}
2023-08-01 09:12:00.980	[37mDEBUG[0m	[37m[PID:92][0m	[37muser[0m	[log/sql_logger.go:86]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/user/user.go:66", "elapsed time": "0.706664(ms)", "rows": 1, "sql": "SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'openim_v3%' ORDER BY SCHEMA_NAME='openim_v3' DESC,SCHEMA_NAME limit 1"}
2023-08-01 09:12:00.981	[37mDEBUG[0m	[37m[PID:92][0m	[37muser[0m	[log/sql_logger.go:84]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/user/user.go:66", "elapsed time": "0.485135(ms)", "sql": "SELECT count(*) FROM information_schema.tables WHERE table_schema = 'openim_v3' AND table_name = 'users' AND table_type = 'BASE TABLE'"}
2023-08-01 09:12:00.995	[37mDEBUG[0m	[37m[PID:92][0m	[37muser[0m	[log/sql_logger.go:86]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/user/user.go:66", "elapsed time": "13.832686(ms)", "rows": 0, "sql": "CREATE TABLE `users` (`user_id` varchar(64),`name` varchar(255),`face_url` varchar(255),`ex` varchar(1024),`create_time` datetime(3) NULL,`app_manger_level` int DEFAULT 1,`global_recv_msg_opt` int,PRIMARY KEY (`user_id`),INDEX `create_time` (`create_time`))"}
2023-08-01 09:12:00.995	[34mINFO[0m	[34m[PID:92][0m	[34muser[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: Friend"}
2023-08-01 09:12:00.995	[34mINFO[0m	[34m[PID:92][0m	[34muser[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Friend RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xfef040"}
2023-08-01 09:12:00.995	[37mDEBUG[0m	[37m[PID:92][0m	[37muser[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Friend","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Friend"}
2023-08-01 09:12:00.997	[31mERROR[0m	[31m[PID:92][0m	[31muser[0m	[zookeeper/resolver.go:52]	UpdateState error, conns is nil from svr	{"conns": null, "zk path": "/Friend", "error": "bad resolver state"}
2023-08-01 09:12:00.997	[34mINFO[0m	[34m[PID:92][0m	[34muser[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Friend RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xfef040, key: Friend"}
2023-08-01 09:12:00.997	[34mINFO[0m	[34m[PID:92][0m	[34muser[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: Msg"}
2023-08-01 09:12:00.997	[34mINFO[0m	[34m[PID:92][0m	[34muser[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Msg RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xfef040"}
2023-08-01 09:12:00.997	[37mDEBUG[0m	[37m[PID:92][0m	[37muser[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Msg","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Msg"}
2023-08-01 09:12:00.998	[31mERROR[0m	[31m[PID:92][0m	[31muser[0m	[zookeeper/resolver.go:52]	UpdateState error, conns is nil from svr	{"conns": null, "zk path": "/Msg", "error": "bad resolver state"}
2023-08-01 09:12:00.998	[34mINFO[0m	[34m[PID:92][0m	[34muser[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Msg RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xfef040, key: Msg"}
2023-08-01 09:12:00.999	[37mDEBUG[0m	[37m[PID:92][0m	[37muser[0m	[log/sql_logger.go:86]	sql exec detail	{"gorm": "/Open-IM-Server/pkg/common/db/relation/user_model.go:54", "elapsed time": "0.961790(ms)", "rows": 0, "sql": "SELECT * FROM `users` WHERE user_id in ('openIM123456','openIM654321','openIMAdmin')"}
2023-08-01 09:12:01.003	[37mDEBUG[0m	[37m[PID:92][0m	[37muser[0m	[log/sql_logger.go:86]	sql exec detail	{"gorm": "/Open-IM-Server/pkg/common/db/relation/user_model.go:39", "elapsed time": "3.951172(ms)", "rows": 3, "sql": "INSERT INTO `users` (`user_id`,`name`,`face_url`,`ex`,`create_time`,`app_manger_level`,`global_recv_msg_opt`) VALUES ('openIM123456','system1','','','2023-08-01 09:12:01',2,0),('openIM654321','system2','','','2023-08-01 09:12:01',2,0),('openIMAdmin','system3','','','2023-08-01 09:12:01',2,0)"}
2023-08-01 09:12:01.006	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk event: /openim/User"}
2023-08-01 09:12:01.006	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "start flush User"}
2023-08-01 09:12:01.006	[37mDEBUG[0m	[37m[PID:55][0m	[37mapi[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/User","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "User"}
2023-08-01 09:12:01.008	[37mDEBUG[0m	[37m[PID:55][0m	[37mapi[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10110"}
2023-08-01 09:12:01.008	[37mDEBUG[0m	[37m[PID:55][0m	[37mapi[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/User","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10110","ServerName":"User","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:01.008	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk event handle success: /openim/User"}
2023-08-01 09:12:01.914	[34mINFO[0m	[34m[PID:130][0m	[34mfriend[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "connected to 127.0.0.1:2181"}
2023-08-01 09:12:01.918	[34mINFO[0m	[34m[PID:130][0m	[34mfriend[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "authenticated: id=72058225976672270, timeout=10000"}
2023-08-01 09:12:01.918	[34mINFO[0m	[34m[PID:130][0m	[34mfriend[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "re-submitting `0` credentials after reconnect"}
2023-08-01 09:12:01.918	[34mINFO[0m	[34m[PID:130][0m	[34mfriend[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateConnecting Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:01.918	[34mINFO[0m	[34m[PID:130][0m	[34mfriend[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateConnected Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:01.918	[34mINFO[0m	[34m[PID:130][0m	[34mfriend[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateHasSession Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:01.973	[37mDEBUG[0m	[37m[PID:130][0m	[37mfriend[0m	[log/sql_logger.go:84]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/friend/friend.go:53", "elapsed time": "0.113058(ms)", "sql": "SELECT DATABASE()"}
2023-08-01 09:12:01.974	[37mDEBUG[0m	[37m[PID:130][0m	[37mfriend[0m	[log/sql_logger.go:86]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/friend/friend.go:53", "elapsed time": "0.530890(ms)", "rows": 1, "sql": "SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'openim_v3%' ORDER BY SCHEMA_NAME='openim_v3' DESC,SCHEMA_NAME limit 1"}
2023-08-01 09:12:01.975	[37mDEBUG[0m	[37m[PID:130][0m	[37mfriend[0m	[log/sql_logger.go:84]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/friend/friend.go:53", "elapsed time": "0.438864(ms)", "sql": "SELECT count(*) FROM information_schema.tables WHERE table_schema = 'openim_v3' AND table_name = 'friends' AND table_type = 'BASE TABLE'"}
2023-08-01 09:12:01.983	[37mDEBUG[0m	[37m[PID:130][0m	[37mfriend[0m	[log/sql_logger.go:86]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/friend/friend.go:53", "elapsed time": "8.205969(ms)", "rows": 0, "sql": "CREATE TABLE `friends` (`owner_user_id` varchar(64),`friend_user_id` varchar(64),`remark` varchar(255),`create_time` datetime(3) NULL,`add_source` int,`operator_user_id` varchar(64),`ex` varchar(1024),PRIMARY KEY (`owner_user_id`,`friend_user_id`))"}
2023-08-01 09:12:01.983	[37mDEBUG[0m	[37m[PID:130][0m	[37mfriend[0m	[log/sql_logger.go:84]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/friend/friend.go:53", "elapsed time": "0.103146(ms)", "sql": "SELECT DATABASE()"}
2023-08-01 09:12:01.984	[37mDEBUG[0m	[37m[PID:130][0m	[37mfriend[0m	[log/sql_logger.go:86]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/friend/friend.go:53", "elapsed time": "0.411575(ms)", "rows": 1, "sql": "SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'openim_v3%' ORDER BY SCHEMA_NAME='openim_v3' DESC,SCHEMA_NAME limit 1"}
2023-08-01 09:12:01.984	[37mDEBUG[0m	[37m[PID:130][0m	[37mfriend[0m	[log/sql_logger.go:84]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/friend/friend.go:53", "elapsed time": "0.292827(ms)", "sql": "SELECT count(*) FROM information_schema.tables WHERE table_schema = 'openim_v3' AND table_name = 'friend_requests' AND table_type = 'BASE TABLE'"}
2023-08-01 09:12:01.992	[37mDEBUG[0m	[37m[PID:130][0m	[37mfriend[0m	[log/sql_logger.go:86]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/friend/friend.go:53", "elapsed time": "8.231260(ms)", "rows": 0, "sql": "CREATE TABLE `friend_requests` (`from_user_id` varchar(64),`to_user_id` varchar(64),`handle_result` int,`req_msg` varchar(255),`create_time` datetime(3) NULL,`handler_user_id` varchar(64),`handle_msg` varchar(255),`handle_time` datetime(3) NULL,`ex` varchar(1024),PRIMARY KEY (`from_user_id`,`to_user_id`))"}
2023-08-01 09:12:01.993	[37mDEBUG[0m	[37m[PID:130][0m	[37mfriend[0m	[log/sql_logger.go:84]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/friend/friend.go:53", "elapsed time": "0.217865(ms)", "sql": "SELECT DATABASE()"}
2023-08-01 09:12:01.993	[37mDEBUG[0m	[37m[PID:130][0m	[37mfriend[0m	[log/sql_logger.go:86]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/friend/friend.go:53", "elapsed time": "0.366486(ms)", "rows": 1, "sql": "SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'openim_v3%' ORDER BY SCHEMA_NAME='openim_v3' DESC,SCHEMA_NAME limit 1"}
2023-08-01 09:12:01.994	[37mDEBUG[0m	[37m[PID:130][0m	[37mfriend[0m	[log/sql_logger.go:84]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/friend/friend.go:53", "elapsed time": "0.358690(ms)", "sql": "SELECT count(*) FROM information_schema.tables WHERE table_schema = 'openim_v3' AND table_name = 'blacks' AND table_type = 'BASE TABLE'"}
2023-08-01 09:12:02.002	[37mDEBUG[0m	[37m[PID:130][0m	[37mfriend[0m	[log/sql_logger.go:86]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/friend/friend.go:53", "elapsed time": "7.898148(ms)", "rows": 0, "sql": "CREATE TABLE `blacks` (`owner_user_id` varchar(64),`block_user_id` varchar(64),`create_time` datetime(3) NULL,`add_source` int,`operator_user_id` varchar(64),`ex` varchar(1024),PRIMARY KEY (`owner_user_id`,`block_user_id`))"}
2023-08-01 09:12:02.003	[34mINFO[0m	[34m[PID:130][0m	[34mfriend[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: User"}
2023-08-01 09:12:02.004	[34mINFO[0m	[34m[PID:130][0m	[34mfriend[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/User RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xf4f160"}
2023-08-01 09:12:02.004	[37mDEBUG[0m	[37m[PID:130][0m	[37mfriend[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/User","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "User"}
2023-08-01 09:12:02.005	[37mDEBUG[0m	[37m[PID:130][0m	[37mfriend[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10110"}
2023-08-01 09:12:02.006	[37mDEBUG[0m	[37m[PID:130][0m	[37mfriend[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/User","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10110","ServerName":"User","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:02.006	[34mINFO[0m	[34m[PID:130][0m	[34mfriend[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/User RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xf4f160, key: User"}
2023-08-01 09:12:02.006	[34mINFO[0m	[34m[PID:130][0m	[34mfriend[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: Msg"}
2023-08-01 09:12:02.006	[34mINFO[0m	[34m[PID:130][0m	[34mfriend[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Msg RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xf4f160"}
2023-08-01 09:12:02.006	[37mDEBUG[0m	[37m[PID:130][0m	[37mfriend[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Msg","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Msg"}
2023-08-01 09:12:02.007	[31mERROR[0m	[31m[PID:130][0m	[31mfriend[0m	[zookeeper/resolver.go:52]	UpdateState error, conns is nil from svr	{"conns": null, "zk path": "/Msg", "error": "bad resolver state"}
2023-08-01 09:12:02.007	[34mINFO[0m	[34m[PID:130][0m	[34mfriend[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Msg RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xf4f160, key: Msg"}
2023-08-01 09:12:02.009	[34mINFO[0m	[34m[PID:92][0m	[34muser[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk event: /openim/Friend"}
2023-08-01 09:12:02.009	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk event: /openim/Friend"}
2023-08-01 09:12:02.009	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "start flush Friend"}
2023-08-01 09:12:02.009	[34mINFO[0m	[34m[PID:92][0m	[34muser[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "start flush Friend"}
2023-08-01 09:12:02.009	[37mDEBUG[0m	[37m[PID:55][0m	[37mapi[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Friend","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Friend"}
2023-08-01 09:12:02.009	[37mDEBUG[0m	[37m[PID:92][0m	[37muser[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Friend","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Friend"}
2023-08-01 09:12:02.010	[37mDEBUG[0m	[37m[PID:55][0m	[37mapi[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10120"}
2023-08-01 09:12:02.010	[37mDEBUG[0m	[37m[PID:55][0m	[37mapi[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Friend","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10120","ServerName":"Friend","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:02.010	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk event handle success: /openim/Friend"}
2023-08-01 09:12:02.010	[37mDEBUG[0m	[37m[PID:92][0m	[37muser[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10120"}
2023-08-01 09:12:02.010	[37mDEBUG[0m	[37m[PID:92][0m	[37muser[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Friend","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10120","ServerName":"Friend","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:02.010	[34mINFO[0m	[34m[PID:92][0m	[34muser[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk event handle success: /openim/Friend"}
2023-08-01 09:12:02.940	[34mINFO[0m	[34m[PID:167][0m	[34mgroup[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "connected to 127.0.0.1:2181"}
2023-08-01 09:12:02.943	[34mINFO[0m	[34m[PID:167][0m	[34mgroup[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "authenticated: id=72058225976672271, timeout=10000"}
2023-08-01 09:12:02.943	[34mINFO[0m	[34m[PID:167][0m	[34mgroup[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "re-submitting `0` credentials after reconnect"}
2023-08-01 09:12:02.944	[34mINFO[0m	[34m[PID:167][0m	[34mgroup[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateConnecting Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:02.944	[34mINFO[0m	[34m[PID:167][0m	[34mgroup[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateConnected Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:02.944	[34mINFO[0m	[34m[PID:167][0m	[34mgroup[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateHasSession Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:02.999	[37mDEBUG[0m	[37m[PID:167][0m	[37mgroup[0m	[log/sql_logger.go:84]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/group/group.go:60", "elapsed time": "0.094308(ms)", "sql": "SELECT DATABASE()"}
2023-08-01 09:12:03.000	[37mDEBUG[0m	[37m[PID:167][0m	[37mgroup[0m	[log/sql_logger.go:86]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/group/group.go:60", "elapsed time": "0.534631(ms)", "rows": 1, "sql": "SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'openim_v3%' ORDER BY SCHEMA_NAME='openim_v3' DESC,SCHEMA_NAME limit 1"}
2023-08-01 09:12:03.000	[37mDEBUG[0m	[37m[PID:167][0m	[37mgroup[0m	[log/sql_logger.go:84]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/group/group.go:60", "elapsed time": "0.361444(ms)", "sql": "SELECT count(*) FROM information_schema.tables WHERE table_schema = 'openim_v3' AND table_name = 'groups' AND table_type = 'BASE TABLE'"}
2023-08-01 09:12:03.011	[37mDEBUG[0m	[37m[PID:167][0m	[37mgroup[0m	[log/sql_logger.go:86]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/group/group.go:60", "elapsed time": "9.879334(ms)", "rows": 0, "sql": "CREATE TABLE `groups` (`group_id` varchar(64),`name` varchar(255),`notification` varchar(255),`introduction` varchar(255),`face_url` varchar(255),`create_time` datetime(3) NULL,`ex` longtext,`status` int,`creator_user_id` varchar(64),`group_type` int,`need_verification` int,`look_member_info` int,`apply_member_friend` int,`notification_update_time` datetime(3) NULL,`notification_user_id` varchar(64),PRIMARY KEY (`group_id`),INDEX `create_time` (`create_time`))"}
2023-08-01 09:12:03.011	[37mDEBUG[0m	[37m[PID:167][0m	[37mgroup[0m	[log/sql_logger.go:84]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/group/group.go:60", "elapsed time": "0.203435(ms)", "sql": "SELECT DATABASE()"}
2023-08-01 09:12:03.011	[37mDEBUG[0m	[37m[PID:167][0m	[37mgroup[0m	[log/sql_logger.go:86]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/group/group.go:60", "elapsed time": "0.426200(ms)", "rows": 1, "sql": "SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'openim_v3%' ORDER BY SCHEMA_NAME='openim_v3' DESC,SCHEMA_NAME limit 1"}
2023-08-01 09:12:03.012	[37mDEBUG[0m	[37m[PID:167][0m	[37mgroup[0m	[log/sql_logger.go:84]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/group/group.go:60", "elapsed time": "0.300827(ms)", "sql": "SELECT count(*) FROM information_schema.tables WHERE table_schema = 'openim_v3' AND table_name = 'group_members' AND table_type = 'BASE TABLE'"}
2023-08-01 09:12:03.023	[37mDEBUG[0m	[37m[PID:167][0m	[37mgroup[0m	[log/sql_logger.go:86]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/group/group.go:60", "elapsed time": "11.578733(ms)", "rows": 0, "sql": "CREATE TABLE `group_members` (`group_id` varchar(64),`user_id` varchar(64),`nickname` varchar(255),`user_group_face_url` varchar(255),`role_level` int,`join_time` datetime(3) NULL,`join_source` int,`inviter_user_id` varchar(64),`operator_user_id` varchar(64),`mute_end_time` datetime(3) NULL,`ex` varchar(1024),PRIMARY KEY (`group_id`,`user_id`))"}
2023-08-01 09:12:03.024	[37mDEBUG[0m	[37m[PID:167][0m	[37mgroup[0m	[log/sql_logger.go:84]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/group/group.go:60", "elapsed time": "0.128266(ms)", "sql": "SELECT DATABASE()"}
2023-08-01 09:12:03.024	[37mDEBUG[0m	[37m[PID:167][0m	[37mgroup[0m	[log/sql_logger.go:86]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/group/group.go:60", "elapsed time": "0.316122(ms)", "rows": 1, "sql": "SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'openim_v3%' ORDER BY SCHEMA_NAME='openim_v3' DESC,SCHEMA_NAME limit 1"}
2023-08-01 09:12:03.024	[37mDEBUG[0m	[37m[PID:167][0m	[37mgroup[0m	[log/sql_logger.go:84]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/group/group.go:60", "elapsed time": "0.377336(ms)", "sql": "SELECT count(*) FROM information_schema.tables WHERE table_schema = 'openim_v3' AND table_name = 'group_requests' AND table_type = 'BASE TABLE'"}
2023-08-01 09:12:03.033	[37mDEBUG[0m	[37m[PID:167][0m	[37mgroup[0m	[log/sql_logger.go:86]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/group/group.go:60", "elapsed time": "8.263827(ms)", "rows": 0, "sql": "CREATE TABLE `group_requests` (`user_id` varchar(64),`group_id` varchar(64),`handle_result` int,`req_msg` varchar(1024),`handle_msg` varchar(1024),`req_time` datetime(3) NULL,`handle_user_id` varchar(64),`handle_time` datetime(3) NULL,`join_source` int,`inviter_user_id` varchar(64),`ex` varchar(1024),PRIMARY KEY (`user_id`,`group_id`))"}
2023-08-01 09:12:03.035	[34mINFO[0m	[34m[PID:167][0m	[34mgroup[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: User"}
2023-08-01 09:12:03.036	[34mINFO[0m	[34m[PID:167][0m	[34mgroup[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/User RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0x1017160"}
2023-08-01 09:12:03.036	[37mDEBUG[0m	[37m[PID:167][0m	[37mgroup[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/User","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "User"}
2023-08-01 09:12:03.038	[37mDEBUG[0m	[37m[PID:167][0m	[37mgroup[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10110"}
2023-08-01 09:12:03.039	[37mDEBUG[0m	[37m[PID:167][0m	[37mgroup[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/User","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10110","ServerName":"User","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:03.039	[34mINFO[0m	[34m[PID:167][0m	[34mgroup[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/User RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0x1017160, key: User"}
2023-08-01 09:12:03.039	[34mINFO[0m	[34m[PID:167][0m	[34mgroup[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: Msg"}
2023-08-01 09:12:03.039	[34mINFO[0m	[34m[PID:167][0m	[34mgroup[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Msg RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0x1017160"}
2023-08-01 09:12:03.039	[37mDEBUG[0m	[37m[PID:167][0m	[37mgroup[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Msg","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Msg"}
2023-08-01 09:12:03.040	[31mERROR[0m	[31m[PID:167][0m	[31mgroup[0m	[zookeeper/resolver.go:52]	UpdateState error, conns is nil from svr	{"conns": null, "zk path": "/Msg", "error": "bad resolver state"}
2023-08-01 09:12:03.040	[34mINFO[0m	[34m[PID:167][0m	[34mgroup[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Msg RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0x1017160, key: Msg"}
2023-08-01 09:12:03.040	[34mINFO[0m	[34m[PID:167][0m	[34mgroup[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: Conversation"}
2023-08-01 09:12:03.040	[34mINFO[0m	[34m[PID:167][0m	[34mgroup[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Conversation RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0x1017160"}
2023-08-01 09:12:03.040	[37mDEBUG[0m	[37m[PID:167][0m	[37mgroup[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Conversation","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Conversation"}
2023-08-01 09:12:03.040	[31mERROR[0m	[31m[PID:167][0m	[31mgroup[0m	[zookeeper/resolver.go:52]	UpdateState error, conns is nil from svr	{"conns": null, "zk path": "/Conversation", "error": "bad resolver state"}
2023-08-01 09:12:03.040	[34mINFO[0m	[34m[PID:167][0m	[34mgroup[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Conversation RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0x1017160, key: Conversation"}
2023-08-01 09:12:03.042	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk event: /openim/Group"}
2023-08-01 09:12:03.042	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "start flush Group"}
2023-08-01 09:12:03.042	[37mDEBUG[0m	[37m[PID:55][0m	[37mapi[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Group","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Group"}
2023-08-01 09:12:03.043	[37mDEBUG[0m	[37m[PID:55][0m	[37mapi[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10150"}
2023-08-01 09:12:03.043	[37mDEBUG[0m	[37m[PID:55][0m	[37mapi[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Group","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10150","ServerName":"Group","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:03.043	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk event handle success: /openim/Group"}
2023-08-01 09:12:03.939	[34mINFO[0m	[34m[PID:203][0m	[34mauth[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "connected to 127.0.0.1:2181"}
2023-08-01 09:12:03.942	[34mINFO[0m	[34m[PID:203][0m	[34mauth[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "authenticated: id=72058225976672272, timeout=10000"}
2023-08-01 09:12:03.942	[34mINFO[0m	[34m[PID:203][0m	[34mauth[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "re-submitting `0` credentials after reconnect"}
2023-08-01 09:12:03.943	[34mINFO[0m	[34m[PID:203][0m	[34mauth[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateConnecting Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:03.943	[34mINFO[0m	[34m[PID:203][0m	[34mauth[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateConnected Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:03.943	[34mINFO[0m	[34m[PID:203][0m	[34mauth[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateHasSession Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:03.995	[34mINFO[0m	[34m[PID:203][0m	[34mauth[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: User"}
2023-08-01 09:12:03.996	[34mINFO[0m	[34m[PID:203][0m	[34mauth[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/User RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xef4d60"}
2023-08-01 09:12:03.997	[37mDEBUG[0m	[37m[PID:203][0m	[37mauth[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/User","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "User"}
2023-08-01 09:12:03.998	[37mDEBUG[0m	[37m[PID:203][0m	[37mauth[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10110"}
2023-08-01 09:12:03.999	[37mDEBUG[0m	[37m[PID:203][0m	[37mauth[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/User","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10110","ServerName":"User","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:03.999	[34mINFO[0m	[34m[PID:203][0m	[34mauth[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/User RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xef4d60, key: User"}
2023-08-01 09:12:04.000	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk event: /openim/Auth"}
2023-08-01 09:12:04.001	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "start flush Auth"}
2023-08-01 09:12:04.001	[37mDEBUG[0m	[37m[PID:55][0m	[37mapi[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Auth","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Auth"}
2023-08-01 09:12:04.001	[37mDEBUG[0m	[37m[PID:55][0m	[37mapi[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10160"}
2023-08-01 09:12:04.002	[37mDEBUG[0m	[37m[PID:55][0m	[37mapi[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Auth","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10160","ServerName":"Auth","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:04.002	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk event handle success: /openim/Auth"}
2023-08-01 09:12:04.958	[34mINFO[0m	[34m[PID:238][0m	[34mmsg[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "connected to 127.0.0.1:2181"}
2023-08-01 09:12:04.960	[34mINFO[0m	[34m[PID:238][0m	[34mmsg[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "authenticated: id=72058225976672273, timeout=10000"}
2023-08-01 09:12:04.961	[34mINFO[0m	[34m[PID:238][0m	[34mmsg[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "re-submitting `0` credentials after reconnect"}
2023-08-01 09:12:04.962	[34mINFO[0m	[34m[PID:238][0m	[34mmsg[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateConnecting Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:04.962	[34mINFO[0m	[34m[PID:238][0m	[34mmsg[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateConnected Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:04.962	[34mINFO[0m	[34m[PID:238][0m	[34mmsg[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateHasSession Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:05.041	[34mINFO[0m	[34m[PID:238][0m	[34mmsg[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: Conversation"}
2023-08-01 09:12:05.041	[34mINFO[0m	[34m[PID:238][0m	[34mmsg[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Conversation RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0x108c8c0"}
2023-08-01 09:12:05.041	[37mDEBUG[0m	[37m[PID:238][0m	[37mmsg[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Conversation","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Conversation"}
2023-08-01 09:12:05.044	[31mERROR[0m	[31m[PID:238][0m	[31mmsg[0m	[zookeeper/resolver.go:52]	UpdateState error, conns is nil from svr	{"conns": null, "zk path": "/Conversation", "error": "bad resolver state"}
2023-08-01 09:12:05.044	[34mINFO[0m	[34m[PID:238][0m	[34mmsg[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Conversation RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0x108c8c0, key: Conversation"}
2023-08-01 09:12:05.044	[34mINFO[0m	[34m[PID:238][0m	[34mmsg[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: User"}
2023-08-01 09:12:05.044	[34mINFO[0m	[34m[PID:238][0m	[34mmsg[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/User RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0x108c8c0"}
2023-08-01 09:12:05.044	[37mDEBUG[0m	[37m[PID:238][0m	[37mmsg[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/User","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "User"}
2023-08-01 09:12:05.045	[37mDEBUG[0m	[37m[PID:238][0m	[37mmsg[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10110"}
2023-08-01 09:12:05.045	[37mDEBUG[0m	[37m[PID:238][0m	[37mmsg[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/User","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10110","ServerName":"User","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:05.045	[34mINFO[0m	[34m[PID:238][0m	[34mmsg[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/User RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0x108c8c0, key: User"}
2023-08-01 09:12:05.045	[34mINFO[0m	[34m[PID:238][0m	[34mmsg[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: Group"}
2023-08-01 09:12:05.045	[34mINFO[0m	[34m[PID:238][0m	[34mmsg[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Group RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0x108c8c0"}
2023-08-01 09:12:05.045	[37mDEBUG[0m	[37m[PID:238][0m	[37mmsg[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Group","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Group"}
2023-08-01 09:12:05.046	[37mDEBUG[0m	[37m[PID:238][0m	[37mmsg[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10150"}
2023-08-01 09:12:05.046	[37mDEBUG[0m	[37m[PID:238][0m	[37mmsg[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Group","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10150","ServerName":"Group","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:05.046	[34mINFO[0m	[34m[PID:238][0m	[34mmsg[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Group RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0x108c8c0, key: Group"}
2023-08-01 09:12:05.046	[34mINFO[0m	[34m[PID:238][0m	[34mmsg[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: Friend"}
2023-08-01 09:12:05.047	[34mINFO[0m	[34m[PID:238][0m	[34mmsg[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Friend RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0x108c8c0"}
2023-08-01 09:12:05.047	[37mDEBUG[0m	[37m[PID:238][0m	[37mmsg[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Friend","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Friend"}
2023-08-01 09:12:05.047	[37mDEBUG[0m	[37m[PID:238][0m	[37mmsg[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10120"}
2023-08-01 09:12:05.047	[37mDEBUG[0m	[37m[PID:238][0m	[37mmsg[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Friend","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10120","ServerName":"Friend","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:05.048	[34mINFO[0m	[34m[PID:238][0m	[34mmsg[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Friend RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0x108c8c0, key: Friend"}
2023-08-01 09:12:05.065	[34mINFO[0m	[34m[PID:130][0m	[34mfriend[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk event: /openim/Msg"}
2023-08-01 09:12:05.065	[34mINFO[0m	[34m[PID:130][0m	[34mfriend[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "start flush Msg"}
2023-08-01 09:12:05.065	[37mDEBUG[0m	[37m[PID:130][0m	[37mfriend[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Msg","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Msg"}
2023-08-01 09:12:05.065	[34mINFO[0m	[34m[PID:92][0m	[34muser[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk event: /openim/Msg"}
2023-08-01 09:12:05.065	[34mINFO[0m	[34m[PID:92][0m	[34muser[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "start flush Msg"}
2023-08-01 09:12:05.065	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk event: /openim/Msg"}
2023-08-01 09:12:05.065	[37mDEBUG[0m	[37m[PID:92][0m	[37muser[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Msg","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Msg"}
2023-08-01 09:12:05.065	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "start flush Msg"}
2023-08-01 09:12:05.065	[37mDEBUG[0m	[37m[PID:55][0m	[37mapi[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Msg","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Msg"}
2023-08-01 09:12:05.065	[34mINFO[0m	[34m[PID:167][0m	[34mgroup[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk event: /openim/Msg"}
2023-08-01 09:12:05.065	[34mINFO[0m	[34m[PID:167][0m	[34mgroup[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "start flush Msg"}
2023-08-01 09:12:05.065	[37mDEBUG[0m	[37m[PID:167][0m	[37mgroup[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Msg","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Msg"}
2023-08-01 09:12:05.066	[37mDEBUG[0m	[37m[PID:130][0m	[37mfriend[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10130"}
2023-08-01 09:12:05.066	[37mDEBUG[0m	[37m[PID:55][0m	[37mapi[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10130"}
2023-08-01 09:12:05.066	[37mDEBUG[0m	[37m[PID:130][0m	[37mfriend[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Msg","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10130","ServerName":"Msg","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:05.066	[34mINFO[0m	[34m[PID:130][0m	[34mfriend[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk event handle success: /openim/Msg"}
2023-08-01 09:12:05.066	[37mDEBUG[0m	[37m[PID:55][0m	[37mapi[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Msg","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10130","ServerName":"Msg","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:05.066	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk event handle success: /openim/Msg"}
2023-08-01 09:12:05.066	[37mDEBUG[0m	[37m[PID:92][0m	[37muser[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10130"}
2023-08-01 09:12:05.066	[37mDEBUG[0m	[37m[PID:167][0m	[37mgroup[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10130"}
2023-08-01 09:12:05.066	[37mDEBUG[0m	[37m[PID:92][0m	[37muser[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Msg","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10130","ServerName":"Msg","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:05.066	[34mINFO[0m	[34m[PID:92][0m	[34muser[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk event handle success: /openim/Msg"}
2023-08-01 09:12:05.066	[37mDEBUG[0m	[37m[PID:167][0m	[37mgroup[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Msg","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10130","ServerName":"Msg","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:05.066	[34mINFO[0m	[34m[PID:167][0m	[34mgroup[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk event handle success: /openim/Msg"}
2023-08-01 09:12:05.965	[34mINFO[0m	[34m[PID:275][0m	[34mconversation[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "connected to 127.0.0.1:2181"}
2023-08-01 09:12:05.968	[34mINFO[0m	[34m[PID:275][0m	[34mconversation[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "authenticated: id=72058225976672274, timeout=10000"}
2023-08-01 09:12:05.968	[34mINFO[0m	[34m[PID:275][0m	[34mconversation[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "re-submitting `0` credentials after reconnect"}
2023-08-01 09:12:05.969	[34mINFO[0m	[34m[PID:275][0m	[34mconversation[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateConnecting Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:05.969	[34mINFO[0m	[34m[PID:275][0m	[34mconversation[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateConnected Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:05.969	[34mINFO[0m	[34m[PID:275][0m	[34mconversation[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateHasSession Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:06.023	[37mDEBUG[0m	[37m[PID:275][0m	[37mconversation[0m	[log/sql_logger.go:84]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/conversation/conversaion.go:50", "elapsed time": "0.164437(ms)", "sql": "SELECT DATABASE()"}
2023-08-01 09:12:06.024	[37mDEBUG[0m	[37m[PID:275][0m	[37mconversation[0m	[log/sql_logger.go:86]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/conversation/conversaion.go:50", "elapsed time": "0.607621(ms)", "rows": 1, "sql": "SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'openim_v3%' ORDER BY SCHEMA_NAME='openim_v3' DESC,SCHEMA_NAME limit 1"}
2023-08-01 09:12:06.024	[37mDEBUG[0m	[37m[PID:275][0m	[37mconversation[0m	[log/sql_logger.go:84]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/conversation/conversaion.go:50", "elapsed time": "0.375295(ms)", "sql": "SELECT count(*) FROM information_schema.tables WHERE table_schema = 'openim_v3' AND table_name = 'conversations' AND table_type = 'BASE TABLE'"}
2023-08-01 09:12:06.034	[37mDEBUG[0m	[37m[PID:275][0m	[37mconversation[0m	[log/sql_logger.go:86]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/conversation/conversaion.go:50", "elapsed time": "9.699315(ms)", "rows": 0, "sql": "CREATE TABLE `conversations` (`owner_user_id` char(128),`conversation_id` char(128),`conversation_type` int,`user_id` char(64),`group_id` char(128),`recv_msg_opt` int,`is_pinned` boolean,`is_private_chat` boolean,`burn_duration` int DEFAULT 30,`group_at_type` int,`attached_info` varchar(1024),`ex` varchar(1024),`max_seq` bigint,`min_seq` bigint,`create_time` datetime(3) NULL,`is_msg_destruct` boolean DEFAULT false,`msg_destruct_time` bigint DEFAULT 604800,`latest_msg_destruct_time` datetime(3) NULL,PRIMARY KEY (`owner_user_id`,`conversation_id`),INDEX `create_time` (`create_time`))"}
2023-08-01 09:12:06.036	[34mINFO[0m	[34m[PID:275][0m	[34mconversation[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: Group"}
2023-08-01 09:12:06.037	[34mINFO[0m	[34m[PID:275][0m	[34mconversation[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Group RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xf48f20"}
2023-08-01 09:12:06.037	[37mDEBUG[0m	[37m[PID:275][0m	[37mconversation[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Group","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Group"}
2023-08-01 09:12:06.038	[37mDEBUG[0m	[37m[PID:275][0m	[37mconversation[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10150"}
2023-08-01 09:12:06.039	[37mDEBUG[0m	[37m[PID:275][0m	[37mconversation[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Group","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10150","ServerName":"Group","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:06.039	[34mINFO[0m	[34m[PID:275][0m	[34mconversation[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Group RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xf48f20, key: Group"}
2023-08-01 09:12:06.039	[34mINFO[0m	[34m[PID:275][0m	[34mconversation[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: Msg"}
2023-08-01 09:12:06.039	[34mINFO[0m	[34m[PID:275][0m	[34mconversation[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Msg RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xf48f20"}
2023-08-01 09:12:06.039	[37mDEBUG[0m	[37m[PID:275][0m	[37mconversation[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Msg","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Msg"}
2023-08-01 09:12:06.040	[37mDEBUG[0m	[37m[PID:275][0m	[37mconversation[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10130"}
2023-08-01 09:12:06.041	[37mDEBUG[0m	[37m[PID:275][0m	[37mconversation[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Msg","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10130","ServerName":"Msg","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:06.041	[34mINFO[0m	[34m[PID:275][0m	[34mconversation[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Msg RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xf48f20, key: Msg"}
2023-08-01 09:12:06.042	[34mINFO[0m	[34m[PID:238][0m	[34mmsg[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk event: /openim/Conversation"}
2023-08-01 09:12:06.042	[34mINFO[0m	[34m[PID:238][0m	[34mmsg[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "start flush Conversation"}
2023-08-01 09:12:06.042	[37mDEBUG[0m	[37m[PID:238][0m	[37mmsg[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Conversation","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Conversation"}
2023-08-01 09:12:06.042	[34mINFO[0m	[34m[PID:167][0m	[34mgroup[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk event: /openim/Conversation"}
2023-08-01 09:12:06.042	[34mINFO[0m	[34m[PID:167][0m	[34mgroup[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "start flush Conversation"}
2023-08-01 09:12:06.042	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk event: /openim/Conversation"}
2023-08-01 09:12:06.042	[37mDEBUG[0m	[37m[PID:167][0m	[37mgroup[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Conversation","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Conversation"}
2023-08-01 09:12:06.042	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "start flush Conversation"}
2023-08-01 09:12:06.042	[37mDEBUG[0m	[37m[PID:55][0m	[37mapi[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Conversation","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Conversation"}
2023-08-01 09:12:06.044	[37mDEBUG[0m	[37m[PID:167][0m	[37mgroup[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10180"}
2023-08-01 09:12:06.044	[37mDEBUG[0m	[37m[PID:167][0m	[37mgroup[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Conversation","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10180","ServerName":"Conversation","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:06.044	[37mDEBUG[0m	[37m[PID:238][0m	[37mmsg[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10180"}
2023-08-01 09:12:06.044	[34mINFO[0m	[34m[PID:167][0m	[34mgroup[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk event handle success: /openim/Conversation"}
2023-08-01 09:12:06.044	[37mDEBUG[0m	[37m[PID:238][0m	[37mmsg[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Conversation","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10180","ServerName":"Conversation","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:06.044	[34mINFO[0m	[34m[PID:238][0m	[34mmsg[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk event handle success: /openim/Conversation"}
2023-08-01 09:12:06.044	[37mDEBUG[0m	[37m[PID:55][0m	[37mapi[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10180"}
2023-08-01 09:12:06.044	[37mDEBUG[0m	[37m[PID:55][0m	[37mapi[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Conversation","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10180","ServerName":"Conversation","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:06.044	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk event handle success: /openim/Conversation"}
2023-08-01 09:12:06.982	[34mINFO[0m	[34m[PID:313][0m	[34mthird[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "connected to 127.0.0.1:2181"}
2023-08-01 09:12:06.985	[34mINFO[0m	[34m[PID:313][0m	[34mthird[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "authenticated: id=72058225976672275, timeout=10000"}
2023-08-01 09:12:06.986	[34mINFO[0m	[34m[PID:313][0m	[34mthird[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "re-submitting `0` credentials after reconnect"}
2023-08-01 09:12:06.987	[34mINFO[0m	[34m[PID:313][0m	[34mthird[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateConnecting Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:06.987	[34mINFO[0m	[34m[PID:313][0m	[34mthird[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateConnected Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:06.987	[34mINFO[0m	[34m[PID:313][0m	[34mthird[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateHasSession Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:07.042	[37mDEBUG[0m	[37m[PID:313][0m	[37mthird[0m	[log/sql_logger.go:84]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/third/third.go:59", "elapsed time": "0.118405(ms)", "sql": "SELECT DATABASE()"}
2023-08-01 09:12:07.043	[37mDEBUG[0m	[37m[PID:313][0m	[37mthird[0m	[log/sql_logger.go:86]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/third/third.go:59", "elapsed time": "0.452039(ms)", "rows": 1, "sql": "SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'openim_v3%' ORDER BY SCHEMA_NAME='openim_v3' DESC,SCHEMA_NAME limit 1"}
2023-08-01 09:12:07.043	[37mDEBUG[0m	[37m[PID:313][0m	[37mthird[0m	[log/sql_logger.go:84]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/third/third.go:59", "elapsed time": "0.363835(ms)", "sql": "SELECT count(*) FROM information_schema.tables WHERE table_schema = 'openim_v3' AND table_name = 'object' AND table_type = 'BASE TABLE'"}
2023-08-01 09:12:07.051	[37mDEBUG[0m	[37m[PID:313][0m	[37mthird[0m	[log/sql_logger.go:86]	sql exec detail	{"gorm": "/Open-IM-Server/internal/rpc/third/third.go:59", "elapsed time": "7.962116(ms)", "rows": 0, "sql": "CREATE TABLE `object` (`name` varchar(191),`user_id` longtext,`hash` longtext,`key` longtext,`size` bigint,`content_type` longtext,`cause` longtext,`create_time` datetime(3) NULL,PRIMARY KEY (`name`))"}
2023-08-01 09:12:07.059	[34mINFO[0m	[34m[PID:313][0m	[34mthird[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: User"}
2023-08-01 09:12:07.059	[34mINFO[0m	[34m[PID:313][0m	[34mthird[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/User RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0x10f5340"}
2023-08-01 09:12:07.059	[37mDEBUG[0m	[37m[PID:313][0m	[37mthird[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/User","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "User"}
2023-08-01 09:12:07.060	[37mDEBUG[0m	[37m[PID:313][0m	[37mthird[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10110"}
2023-08-01 09:12:07.061	[37mDEBUG[0m	[37m[PID:313][0m	[37mthird[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/User","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10110","ServerName":"User","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:07.061	[34mINFO[0m	[34m[PID:313][0m	[34mthird[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/User RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0x10f5340, key: User"}
2023-08-01 09:12:07.063	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk event: /openim/Third"}
2023-08-01 09:12:07.063	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "start flush Third"}
2023-08-01 09:12:07.063	[37mDEBUG[0m	[37m[PID:55][0m	[37mapi[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Third","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Third"}
2023-08-01 09:12:07.064	[37mDEBUG[0m	[37m[PID:55][0m	[37mapi[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10190"}
2023-08-01 09:12:07.064	[37mDEBUG[0m	[37m[PID:55][0m	[37mapi[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Third","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10190","ServerName":"Third","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:07.064	[34mINFO[0m	[34m[PID:55][0m	[34mapi[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk event handle success: /openim/Third"}
2023-08-01 09:12:08.995	[34mINFO[0m	[34m[PID:375][0m	[34mmsgGateway[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "connected to 127.0.0.1:2181"}
2023-08-01 09:12:08.997	[34mINFO[0m	[34m[PID:375][0m	[34mmsgGateway[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "authenticated: id=72058225976672276, timeout=10000"}
2023-08-01 09:12:08.998	[34mINFO[0m	[34m[PID:375][0m	[34mmsgGateway[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "re-submitting `0` credentials after reconnect"}
2023-08-01 09:12:08.998	[34mINFO[0m	[34m[PID:375][0m	[34mmsgGateway[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateConnecting Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:08.998	[34mINFO[0m	[34m[PID:375][0m	[34mmsgGateway[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateConnected Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:08.998	[34mINFO[0m	[34m[PID:375][0m	[34mmsgGateway[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateHasSession Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:09.052	[34mINFO[0m	[34m[PID:375][0m	[34mmsgGateway[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: Msg"}
2023-08-01 09:12:09.053	[34mINFO[0m	[34m[PID:375][0m	[34mmsgGateway[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Msg RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xe4de00"}
2023-08-01 09:12:09.053	[37mDEBUG[0m	[37m[PID:375][0m	[37mmsgGateway[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Msg","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Msg"}
2023-08-01 09:12:09.055	[37mDEBUG[0m	[37m[PID:375][0m	[37mmsgGateway[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10130"}
2023-08-01 09:12:09.055	[37mDEBUG[0m	[37m[PID:375][0m	[37mmsgGateway[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Msg","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10130","ServerName":"Msg","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:09.055	[34mINFO[0m	[34m[PID:375][0m	[34mmsgGateway[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Msg RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xe4de00, key: Msg"}
2023-08-01 09:12:09.055	[34mINFO[0m	[34m[PID:375][0m	[34mmsgGateway[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: Push"}
2023-08-01 09:12:09.055	[34mINFO[0m	[34m[PID:375][0m	[34mmsgGateway[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Push RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xe4de00"}
2023-08-01 09:12:09.055	[37mDEBUG[0m	[37m[PID:375][0m	[37mmsgGateway[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Push","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Push"}
2023-08-01 09:12:09.056	[31mERROR[0m	[31m[PID:375][0m	[31mmsgGateway[0m	[zookeeper/resolver.go:52]	UpdateState error, conns is nil from svr	{"conns": null, "zk path": "/Push", "error": "bad resolver state"}
2023-08-01 09:12:09.056	[34mINFO[0m	[34m[PID:375][0m	[34mmsgGateway[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Push RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xe4de00, key: Push"}
2023-08-01 09:12:13.033	[34mINFO[0m	[34m[PID:440][0m	[34mpush[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "connected to 127.0.0.1:2181"}
2023-08-01 09:12:13.035	[34mINFO[0m	[34m[PID:440][0m	[34mpush[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "authenticated: id=72058225976672277, timeout=10000"}
2023-08-01 09:12:13.036	[34mINFO[0m	[34m[PID:440][0m	[34mpush[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "re-submitting `0` credentials after reconnect"}
2023-08-01 09:12:13.037	[34mINFO[0m	[34m[PID:440][0m	[34mpush[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateConnecting Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:13.037	[34mINFO[0m	[34m[PID:440][0m	[34mpush[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateConnected Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:13.037	[34mINFO[0m	[34m[PID:440][0m	[34mpush[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateHasSession Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:13.090	[34mINFO[0m	[34m[PID:440][0m	[34mpush[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: Group"}
2023-08-01 09:12:13.091	[34mINFO[0m	[34m[PID:440][0m	[34mpush[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Group RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0x10ec220"}
2023-08-01 09:12:13.091	[37mDEBUG[0m	[37m[PID:440][0m	[37mpush[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Group","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Group"}
2023-08-01 09:12:13.092	[37mDEBUG[0m	[37m[PID:440][0m	[37mpush[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10150"}
2023-08-01 09:12:13.093	[37mDEBUG[0m	[37m[PID:440][0m	[37mpush[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Group","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10150","ServerName":"Group","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:13.093	[34mINFO[0m	[34m[PID:440][0m	[34mpush[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Group RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0x10ec220, key: Group"}
2023-08-01 09:12:13.093	[34mINFO[0m	[34m[PID:440][0m	[34mpush[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: Conversation"}
2023-08-01 09:12:13.093	[34mINFO[0m	[34m[PID:440][0m	[34mpush[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Conversation RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0x10ec220"}
2023-08-01 09:12:13.093	[37mDEBUG[0m	[37m[PID:440][0m	[37mpush[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Conversation","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Conversation"}
2023-08-01 09:12:13.094	[37mDEBUG[0m	[37m[PID:440][0m	[37mpush[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10180"}
2023-08-01 09:12:13.094	[37mDEBUG[0m	[37m[PID:440][0m	[37mpush[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Conversation","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10180","ServerName":"Conversation","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:13.094	[34mINFO[0m	[34m[PID:440][0m	[34mpush[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Conversation RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0x10ec220, key: Conversation"}
2023-08-01 09:12:13.094	[34mINFO[0m	[34m[PID:440][0m	[34mpush[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: Msg"}
2023-08-01 09:12:13.094	[34mINFO[0m	[34m[PID:440][0m	[34mpush[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Msg RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0x10ec220"}
2023-08-01 09:12:13.094	[37mDEBUG[0m	[37m[PID:440][0m	[37mpush[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Msg","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Msg"}
2023-08-01 09:12:13.096	[37mDEBUG[0m	[37m[PID:440][0m	[37mpush[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10130"}
2023-08-01 09:12:13.096	[37mDEBUG[0m	[37m[PID:440][0m	[37mpush[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Msg","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10130","ServerName":"Msg","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:13.096	[34mINFO[0m	[34m[PID:440][0m	[34mpush[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Msg RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0x10ec220, key: Msg"}
2023-08-01 09:12:13.099	[37mDEBUG[0m	[37m[PID:440][0m	[37mpush[0m	[kafka/consumer_group.go:58]	register consumer group	{"groupID": "push"}
2023-08-01 09:12:13.101	[34mINFO[0m	[34m[PID:375][0m	[34mmsgGateway[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk event: /openim/Push"}
2023-08-01 09:12:13.101	[34mINFO[0m	[34m[PID:375][0m	[34mmsgGateway[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "start flush Push"}
2023-08-01 09:12:13.101	[37mDEBUG[0m	[37m[PID:375][0m	[37mmsgGateway[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Push","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Push"}
2023-08-01 09:12:13.102	[37mDEBUG[0m	[37m[PID:375][0m	[37mmsgGateway[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10170"}
2023-08-01 09:12:13.102	[37mDEBUG[0m	[37m[PID:375][0m	[37mmsgGateway[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Push","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10170","ServerName":"Push","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:13.102	[34mINFO[0m	[34m[PID:375][0m	[34mmsgGateway[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk event handle success: /openim/Push"}
2023-08-01 09:12:16.995	[37mDEBUG[0m	[37m[PID:497][0m	[37mmsgTransfer[0m	[log/sql_logger.go:84]	sql exec detail	{"gorm": "/Open-IM-Server/internal/msgtransfer/init.go:50", "elapsed time": "0.091013(ms)", "sql": "SELECT DATABASE()"}
2023-08-01 09:12:16.995	[37mDEBUG[0m	[37m[PID:495][0m	[37mmsgTransfer[0m	[log/sql_logger.go:84]	sql exec detail	{"gorm": "/Open-IM-Server/internal/msgtransfer/init.go:50", "elapsed time": "0.123311(ms)", "sql": "SELECT DATABASE()"}
2023-08-01 09:12:16.995	[37mDEBUG[0m	[37m[PID:496][0m	[37mmsgTransfer[0m	[log/sql_logger.go:84]	sql exec detail	{"gorm": "/Open-IM-Server/internal/msgtransfer/init.go:50", "elapsed time": "0.127790(ms)", "sql": "SELECT DATABASE()"}
2023-08-01 09:12:16.995	[37mDEBUG[0m	[37m[PID:498][0m	[37mmsgTransfer[0m	[log/sql_logger.go:84]	sql exec detail	{"gorm": "/Open-IM-Server/internal/msgtransfer/init.go:50", "elapsed time": "0.119917(ms)", "sql": "SELECT DATABASE()"}
2023-08-01 09:12:16.996	[37mDEBUG[0m	[37m[PID:498][0m	[37mmsgTransfer[0m	[log/sql_logger.go:86]	sql exec detail	{"gorm": "/Open-IM-Server/internal/msgtransfer/init.go:50", "elapsed time": "0.676005(ms)", "rows": 1, "sql": "SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'openim_v3%' ORDER BY SCHEMA_NAME='openim_v3' DESC,SCHEMA_NAME limit 1"}
2023-08-01 09:12:16.996	[37mDEBUG[0m	[37m[PID:496][0m	[37mmsgTransfer[0m	[log/sql_logger.go:86]	sql exec detail	{"gorm": "/Open-IM-Server/internal/msgtransfer/init.go:50", "elapsed time": "0.676702(ms)", "rows": 1, "sql": "SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'openim_v3%' ORDER BY SCHEMA_NAME='openim_v3' DESC,SCHEMA_NAME limit 1"}
2023-08-01 09:12:16.996	[37mDEBUG[0m	[37m[PID:497][0m	[37mmsgTransfer[0m	[log/sql_logger.go:86]	sql exec detail	{"gorm": "/Open-IM-Server/internal/msgtransfer/init.go:50", "elapsed time": "0.698657(ms)", "rows": 1, "sql": "SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'openim_v3%' ORDER BY SCHEMA_NAME='openim_v3' DESC,SCHEMA_NAME limit 1"}
2023-08-01 09:12:16.996	[37mDEBUG[0m	[37m[PID:495][0m	[37mmsgTransfer[0m	[log/sql_logger.go:86]	sql exec detail	{"gorm": "/Open-IM-Server/internal/msgtransfer/init.go:50", "elapsed time": "0.720329(ms)", "rows": 1, "sql": "SELECT SCHEMA_NAME from Information_schema.SCHEMATA where SCHEMA_NAME LIKE 'openim_v3%' ORDER BY SCHEMA_NAME='openim_v3' DESC,SCHEMA_NAME limit 1"}
2023-08-01 09:12:16.997	[37mDEBUG[0m	[37m[PID:497][0m	[37mmsgTransfer[0m	[log/sql_logger.go:84]	sql exec detail	{"gorm": "/Open-IM-Server/internal/msgtransfer/init.go:50", "elapsed time": "0.317783(ms)", "sql": "SELECT count(*) FROM information_schema.tables WHERE table_schema = 'openim_v3' AND table_name = 'chat_logs' AND table_type = 'BASE TABLE'"}
2023-08-01 09:12:16.997	[37mDEBUG[0m	[37m[PID:496][0m	[37mmsgTransfer[0m	[log/sql_logger.go:84]	sql exec detail	{"gorm": "/Open-IM-Server/internal/msgtransfer/init.go:50", "elapsed time": "0.341304(ms)", "sql": "SELECT count(*) FROM information_schema.tables WHERE table_schema = 'openim_v3' AND table_name = 'chat_logs' AND table_type = 'BASE TABLE'"}
2023-08-01 09:12:16.997	[37mDEBUG[0m	[37m[PID:495][0m	[37mmsgTransfer[0m	[log/sql_logger.go:84]	sql exec detail	{"gorm": "/Open-IM-Server/internal/msgtransfer/init.go:50", "elapsed time": "0.375237(ms)", "sql": "SELECT count(*) FROM information_schema.tables WHERE table_schema = 'openim_v3' AND table_name = 'chat_logs' AND table_type = 'BASE TABLE'"}
2023-08-01 09:12:16.997	[37mDEBUG[0m	[37m[PID:498][0m	[37mmsgTransfer[0m	[log/sql_logger.go:84]	sql exec detail	{"gorm": "/Open-IM-Server/internal/msgtransfer/init.go:50", "elapsed time": "0.415072(ms)", "sql": "SELECT count(*) FROM information_schema.tables WHERE table_schema = 'openim_v3' AND table_name = 'chat_logs' AND table_type = 'BASE TABLE'"}
2023-08-01 09:12:17.019	[37mDEBUG[0m	[37m[PID:496][0m	[37mmsgTransfer[0m	[log/sql_logger.go:86]	sql exec detail	{"gorm": "/Open-IM-Server/internal/msgtransfer/init.go:50", "elapsed time": "22.126617(ms)", "rows": 0, "sql": "CREATE TABLE `chat_logs` (`server_msg_id` char(64),`client_msg_id` char(64),`send_id` char(64),`recv_id` char(64),`sender_platform_id` int,`sender_nick_name` varchar(255),`sender_face_url` varchar(255),`session_type` int,`msg_from` int,`content_type` int,`content` varchar(3000),`status` int,`send_time` datetime(3) NULL,`create_time` datetime(3) NULL,`ex` varchar(1024),PRIMARY KEY (`server_msg_id`),INDEX `send_id` (`send_time`,`send_id`),INDEX `recv_id` (`send_time`,`recv_id`),INDEX `session_type` (`send_time`,`session_type`),INDEX `session_type_alone` (`session_type`),INDEX `content_type` (`send_time`,`content_type`),INDEX `content_type_alone` (`content_type`),INDEX `sendTime` (`send_time`))"}
2023-08-01 09:12:17.019	[31mERROR[0m	[31m[PID:498][0m	[31mmsgTransfer[0m	[log/sql_logger.go:71]	sql exec detail	{"gorm": "/Open-IM-Server/internal/msgtransfer/init.go:50", "elapsed time": "22.390439(ms)", "rows": 0, "sql": "CREATE TABLE `chat_logs` (`server_msg_id` char(64),`client_msg_id` char(64),`send_id` char(64),`recv_id` char(64),`sender_platform_id` int,`sender_nick_name` varchar(255),`sender_face_url` varchar(255),`session_type` int,`msg_from` int,`content_type` int,`content` varchar(3000),`status` int,`send_time` datetime(3) NULL,`create_time` datetime(3) NULL,`ex` varchar(1024),PRIMARY KEY (`server_msg_id`),INDEX `sendTime` (`send_time`),INDEX `send_id` (`send_time`,`send_id`),INDEX `recv_id` (`send_time`,`recv_id`),INDEX `session_type` (`send_time`,`session_type`),INDEX `session_type_alone` (`session_type`),INDEX `content_type` (`send_time`,`content_type`),INDEX `content_type_alone` (`content_type`))", "error": "Error 1050: Table 'chat_logs' already exists"}
2023-08-01 09:12:17.019	[31mERROR[0m	[31m[PID:497][0m	[31mmsgTransfer[0m	[log/sql_logger.go:71]	sql exec detail	{"gorm": "/Open-IM-Server/internal/msgtransfer/init.go:50", "elapsed time": "22.290825(ms)", "rows": 0, "sql": "CREATE TABLE `chat_logs` (`server_msg_id` char(64),`client_msg_id` char(64),`send_id` char(64),`recv_id` char(64),`sender_platform_id` int,`sender_nick_name` varchar(255),`sender_face_url` varchar(255),`session_type` int,`msg_from` int,`content_type` int,`content` varchar(3000),`status` int,`send_time` datetime(3) NULL,`create_time` datetime(3) NULL,`ex` varchar(1024),PRIMARY KEY (`server_msg_id`),INDEX `recv_id` (`send_time`,`recv_id`),INDEX `session_type` (`send_time`,`session_type`),INDEX `session_type_alone` (`session_type`),INDEX `content_type` (`send_time`,`content_type`),INDEX `content_type_alone` (`content_type`),INDEX `sendTime` (`send_time`),INDEX `send_id` (`send_time`,`send_id`))", "error": "Error 1050: Table 'chat_logs' already exists"}
2023-08-01 09:12:17.019	[31mERROR[0m	[31m[PID:495][0m	[31mmsgTransfer[0m	[log/sql_logger.go:71]	sql exec detail	{"gorm": "/Open-IM-Server/internal/msgtransfer/init.go:50", "elapsed time": "22.384424(ms)", "rows": 0, "sql": "CREATE TABLE `chat_logs` (`server_msg_id` char(64),`client_msg_id` char(64),`send_id` char(64),`recv_id` char(64),`sender_platform_id` int,`sender_nick_name` varchar(255),`sender_face_url` varchar(255),`session_type` int,`msg_from` int,`content_type` int,`content` varchar(3000),`status` int,`send_time` datetime(3) NULL,`create_time` datetime(3) NULL,`ex` varchar(1024),PRIMARY KEY (`server_msg_id`),INDEX `send_id` (`send_time`,`send_id`),INDEX `recv_id` (`send_time`,`recv_id`),INDEX `session_type` (`send_time`,`session_type`),INDEX `session_type_alone` (`session_type`),INDEX `content_type` (`send_time`,`content_type`),INDEX `content_type_alone` (`content_type`),INDEX `sendTime` (`send_time`))", "error": "Error 1050: Table 'chat_logs' already exists"}
2023-08-01 09:12:17.033	[34mINFO[0m	[34m[PID:496][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "connected to 127.0.0.1:2181"}
2023-08-01 09:12:17.033	[34mINFO[0m	[34m[PID:497][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "connected to 127.0.0.1:2181"}
2023-08-01 09:12:17.033	[34mINFO[0m	[34m[PID:498][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "connected to 127.0.0.1:2181"}
2023-08-01 09:12:17.035	[34mINFO[0m	[34m[PID:496][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "authenticated: id=72058225976672278, timeout=10000"}
2023-08-01 09:12:17.035	[34mINFO[0m	[34m[PID:495][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "connected to 127.0.0.1:2181"}
2023-08-01 09:12:17.035	[34mINFO[0m	[34m[PID:496][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "re-submitting `0` credentials after reconnect"}
2023-08-01 09:12:17.037	[34mINFO[0m	[34m[PID:497][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "authenticated: id=72058225976672279, timeout=10000"}
2023-08-01 09:12:17.037	[34mINFO[0m	[34m[PID:497][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "re-submitting `0` credentials after reconnect"}
2023-08-01 09:12:17.037	[34mINFO[0m	[34m[PID:498][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "authenticated: id=72058225976672280, timeout=10000"}
2023-08-01 09:12:17.037	[34mINFO[0m	[34m[PID:498][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "re-submitting `0` credentials after reconnect"}
2023-08-01 09:12:17.039	[34mINFO[0m	[34m[PID:495][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "authenticated: id=72058225976672281, timeout=10000"}
2023-08-01 09:12:17.039	[34mINFO[0m	[34m[PID:495][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "re-submitting `0` credentials after reconnect"}
2023-08-01 09:12:17.039	[34mINFO[0m	[34m[PID:496][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateConnecting Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:17.039	[34mINFO[0m	[34m[PID:497][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateConnecting Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:17.039	[34mINFO[0m	[34m[PID:496][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateConnected Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:17.039	[34mINFO[0m	[34m[PID:497][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateConnected Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:17.039	[34mINFO[0m	[34m[PID:496][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateHasSession Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:17.039	[34mINFO[0m	[34m[PID:497][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateHasSession Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:17.039	[34mINFO[0m	[34m[PID:498][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateConnecting Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:17.039	[34mINFO[0m	[34m[PID:498][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateConnected Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:17.040	[34mINFO[0m	[34m[PID:495][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateConnecting Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:17.040	[34mINFO[0m	[34m[PID:498][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateHasSession Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:17.040	[34mINFO[0m	[34m[PID:495][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateConnected Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:17.040	[34mINFO[0m	[34m[PID:495][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "zk session event: {Type:EventSession State:StateHasSession Path: Err:<nil> Server:127.0.0.1:2181}"}
2023-08-01 09:12:17.104	[34mINFO[0m	[34m[PID:496][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: Conversation"}
2023-08-01 09:12:17.104	[34mINFO[0m	[34m[PID:498][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: Conversation"}
2023-08-01 09:12:17.104	[34mINFO[0m	[34m[PID:497][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: Conversation"}
2023-08-01 09:12:17.104	[34mINFO[0m	[34m[PID:495][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: Conversation"}
2023-08-01 09:12:17.105	[34mINFO[0m	[34m[PID:497][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Conversation RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xf5ccc0"}
2023-08-01 09:12:17.105	[34mINFO[0m	[34m[PID:498][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Conversation RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xf5ccc0"}
2023-08-01 09:12:17.105	[34mINFO[0m	[34m[PID:496][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Conversation RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xf5ccc0"}
2023-08-01 09:12:17.105	[34mINFO[0m	[34m[PID:495][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Conversation RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xf5ccc0"}
2023-08-01 09:12:17.105	[37mDEBUG[0m	[37m[PID:498][0m	[37mmsgTransfer[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Conversation","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Conversation"}
2023-08-01 09:12:17.105	[37mDEBUG[0m	[37m[PID:497][0m	[37mmsgTransfer[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Conversation","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Conversation"}
2023-08-01 09:12:17.105	[37mDEBUG[0m	[37m[PID:496][0m	[37mmsgTransfer[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Conversation","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Conversation"}
2023-08-01 09:12:17.105	[37mDEBUG[0m	[37m[PID:495][0m	[37mmsgTransfer[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Conversation","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Conversation"}
2023-08-01 09:12:17.106	[37mDEBUG[0m	[37m[PID:497][0m	[37mmsgTransfer[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10180"}
2023-08-01 09:12:17.106	[37mDEBUG[0m	[37m[PID:498][0m	[37mmsgTransfer[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10180"}
2023-08-01 09:12:17.106	[37mDEBUG[0m	[37m[PID:495][0m	[37mmsgTransfer[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10180"}
2023-08-01 09:12:17.106	[37mDEBUG[0m	[37m[PID:496][0m	[37mmsgTransfer[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10180"}
2023-08-01 09:12:17.107	[37mDEBUG[0m	[37m[PID:497][0m	[37mmsgTransfer[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Conversation","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10180","ServerName":"Conversation","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:17.107	[37mDEBUG[0m	[37m[PID:495][0m	[37mmsgTransfer[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Conversation","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10180","ServerName":"Conversation","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:17.107	[37mDEBUG[0m	[37m[PID:498][0m	[37mmsgTransfer[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Conversation","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10180","ServerName":"Conversation","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:17.107	[34mINFO[0m	[34m[PID:495][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Conversation RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xf5ccc0, key: Conversation"}
2023-08-01 09:12:17.107	[34mINFO[0m	[34m[PID:497][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Conversation RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xf5ccc0, key: Conversation"}
2023-08-01 09:12:17.107	[34mINFO[0m	[34m[PID:498][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Conversation RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xf5ccc0, key: Conversation"}
2023-08-01 09:12:17.107	[34mINFO[0m	[34m[PID:495][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: Group"}
2023-08-01 09:12:17.107	[34mINFO[0m	[34m[PID:497][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: Group"}
2023-08-01 09:12:17.107	[34mINFO[0m	[34m[PID:498][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: Group"}
2023-08-01 09:12:17.107	[34mINFO[0m	[34m[PID:495][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Group RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xf5ccc0"}
2023-08-01 09:12:17.107	[34mINFO[0m	[34m[PID:497][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Group RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xf5ccc0"}
2023-08-01 09:12:17.107	[34mINFO[0m	[34m[PID:498][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Group RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xf5ccc0"}
2023-08-01 09:12:17.107	[37mDEBUG[0m	[37m[PID:495][0m	[37mmsgTransfer[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Group","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Group"}
2023-08-01 09:12:17.107	[37mDEBUG[0m	[37m[PID:498][0m	[37mmsgTransfer[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Group","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Group"}
2023-08-01 09:12:17.107	[37mDEBUG[0m	[37m[PID:497][0m	[37mmsgTransfer[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Group","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Group"}
2023-08-01 09:12:17.107	[37mDEBUG[0m	[37m[PID:496][0m	[37mmsgTransfer[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Conversation","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10180","ServerName":"Conversation","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:17.107	[34mINFO[0m	[34m[PID:496][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Conversation RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xf5ccc0, key: Conversation"}
2023-08-01 09:12:17.107	[34mINFO[0m	[34m[PID:496][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "get conn from client, serviceName: Group"}
2023-08-01 09:12:17.107	[34mINFO[0m	[34m[PID:496][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Group RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xf5ccc0"}
2023-08-01 09:12:17.107	[37mDEBUG[0m	[37m[PID:496][0m	[37mmsgTransfer[0m	[zookeeper/resolver.go:35]	start resolve now	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Group","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "ccError": "json: unsupported type: func(resolver.State) error", "serviceName": "Group"}
2023-08-01 09:12:17.111	[37mDEBUG[0m	[37m[PID:498][0m	[37mmsgTransfer[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10150"}
2023-08-01 09:12:17.111	[37mDEBUG[0m	[37m[PID:498][0m	[37mmsgTransfer[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Group","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10150","ServerName":"Group","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:17.111	[34mINFO[0m	[34m[PID:498][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Group RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xf5ccc0, key: Group"}
2023-08-01 09:12:17.111	[37mDEBUG[0m	[37m[PID:497][0m	[37mmsgTransfer[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10150"}
2023-08-01 09:12:17.111	[37mDEBUG[0m	[37m[PID:497][0m	[37mmsgTransfer[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Group","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10150","ServerName":"Group","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:17.111	[34mINFO[0m	[34m[PID:497][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Group RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xf5ccc0, key: Group"}
2023-08-01 09:12:17.112	[37mDEBUG[0m	[37m[PID:496][0m	[37mmsgTransfer[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10150"}
2023-08-01 09:12:17.112	[37mDEBUG[0m	[37m[PID:496][0m	[37mmsgTransfer[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Group","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10150","ServerName":"Group","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:17.112	[34mINFO[0m	[34m[PID:496][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Group RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xf5ccc0, key: Group"}
2023-08-01 09:12:17.112	[37mDEBUG[0m	[37m[PID:495][0m	[37mmsgTransfer[0m	[zookeeper/discover.go:91]	get addrs from remote	{"conn": "172.19.0.1:10150"}
2023-08-01 09:12:17.112	[37mDEBUG[0m	[37m[PID:495][0m	[37mmsgTransfer[0m	[zookeeper/resolver.go:63]	resolve now finished	{"target": {"Scheme":"openim","Authority":"","URL":{"Scheme":"openim","Opaque":"","User":null,"Host":"","Path":"/Group","RawPath":"","OmitHost":false,"ForceQuery":false,"RawQuery":"","Fragment":"","RawFragment":""}}, "conns": [{"Addr":"172.19.0.1:10150","ServerName":"Group","Attributes":null,"BalancerAttributes":null,"Type":0,"Metadata":null}]}
2023-08-01 09:12:17.112	[34mINFO[0m	[34m[PID:495][0m	[34mmsgTransfer[0m	[log/zk_logger.go:29]	zookeeper output	{"msg": "build resolver finished: {Scheme:openim Authority: URL:{Scheme:openim Opaque: User: Host: Path:/Group RawPath: OmitHost:false ForceQuery:false RawQuery: Fragment: RawFragment:}}, cc: 0xf5ccc0, key: Group"}
2023-08-01 09:12:17.116	[37mDEBUG[0m	[37m[PID:495][0m	[37mmsgTransfer[0m	[kafka/consumer_group.go:58]	register consumer group	{"groupID": "mongo"}
2023-08-01 09:12:17.116	[37mDEBUG[0m	[37m[PID:495][0m	[37mmsgTransfer[0m	[kafka/consumer_group.go:58]	register consumer group	{"groupID": "redis"}
2023-08-01 09:12:17.117	[37mDEBUG[0m	[37m[PID:497][0m	[37mmsgTransfer[0m	[kafka/consumer_group.go:58]	register consumer group	{"groupID": "mongo"}
2023-08-01 09:12:17.117	[37mDEBUG[0m	[37m[PID:497][0m	[37mmsgTransfer[0m	[kafka/consumer_group.go:58]	register consumer group	{"groupID": "redis"}
2023-08-01 09:12:17.117	[37mDEBUG[0m	[37m[PID:496][0m	[37mmsgTransfer[0m	[kafka/consumer_group.go:58]	register consumer group	{"groupID": "mongo"}
2023-08-01 09:12:17.117	[37mDEBUG[0m	[37m[PID:496][0m	[37mmsgTransfer[0m	[kafka/consumer_group.go:58]	register consumer group	{"groupID": "redis"}
2023-08-01 09:12:17.118	[37mDEBUG[0m	[37m[PID:498][0m	[37mmsgTransfer[0m	[kafka/consumer_group.go:58]	register consumer group	{"groupID": "mongo"}
2023-08-01 09:12:17.118	[37mDEBUG[0m	[37m[PID:498][0m	[37mmsgTransfer[0m	[kafka/consumer_group.go:58]	register consumer group	{"groupID": "redis"}
2023-08-01 09:12:17.206	[37mDEBUG[0m	[37m[PID:495][0m	[37mmsgTransfer[0m	[msgtransfer/online_msg_to_mongo_handler.go:103]	online new session msg come	{"highWaterMarkOffset": 0, "topic": "offlineMsgToMongoMysql", "partition": 0}
2023-08-01 09:12:17.206	[37mDEBUG[0m	[37m[PID:495][0m	[37mmsgTransfer[0m	[msgtransfer/online_history_msg_handler.go:419]	online new session msg come	{"highWaterMarkOffset": 0, "topic": "latestMsgToRedis", "partition": 7}
2023-08-01 09:12:17.207	[37mDEBUG[0m	[37m[PID:495][0m	[37mmsgTransfer[0m	[msgtransfer/online_msg_to_mongo_handler.go:103]	online new session msg come	{"highWaterMarkOffset": 0, "topic": "offlineMsgToMongoMysql", "partition": 1}
2023-08-01 09:12:17.208	[37mDEBUG[0m	[37m[PID:498][0m	[37mmsgTransfer[0m	[msgtransfer/online_history_msg_handler.go:419]	online new session msg come	{"highWaterMarkOffset": 0, "topic": "latestMsgToRedis", "partition": 2}
2023-08-01 09:12:17.208	[37mDEBUG[0m	[37m[PID:498][0m	[37mmsgTransfer[0m	[msgtransfer/online_history_msg_handler.go:419]	online new session msg come	{"highWaterMarkOffset": 0, "topic": "latestMsgToRedis", "partition": 3}
2023-08-01 09:12:17.208	[37mDEBUG[0m	[37m[PID:497][0m	[37mmsgTransfer[0m	[msgtransfer/online_history_msg_handler.go:419]	online new session msg come	{"highWaterMarkOffset": 0, "topic": "latestMsgToRedis", "partition": 0}
2023-08-01 09:12:17.209	[37mDEBUG[0m	[37m[PID:498][0m	[37mmsgTransfer[0m	[msgtransfer/online_msg_to_mongo_handler.go:103]	online new session msg come	{"highWaterMarkOffset": 0, "topic": "offlineMsgToMongoMysql", "partition": 6}
2023-08-01 09:12:17.209	[37mDEBUG[0m	[37m[PID:496][0m	[37mmsgTransfer[0m	[msgtransfer/online_msg_to_mongo_handler.go:103]	online new session msg come	{"highWaterMarkOffset": 0, "topic": "offlineMsgToMongoMysql", "partition": 4}
2023-08-01 09:12:17.209	[37mDEBUG[0m	[37m[PID:497][0m	[37mmsgTransfer[0m	[msgtransfer/online_msg_to_mongo_handler.go:103]	online new session msg come	{"highWaterMarkOffset": 0, "topic": "offlineMsgToMongoMysql", "partition": 2}
2023-08-01 09:12:17.210	[37mDEBUG[0m	[37m[PID:498][0m	[37mmsgTransfer[0m	[msgtransfer/online_msg_to_mongo_handler.go:103]	online new session msg come	{"highWaterMarkOffset": 0, "topic": "offlineMsgToMongoMysql", "partition": 7}
2023-08-01 09:12:17.210	[37mDEBUG[0m	[37m[PID:495][0m	[37mmsgTransfer[0m	[msgtransfer/online_history_msg_handler.go:419]	online new session msg come	{"highWaterMarkOffset": 0, "topic": "latestMsgToRedis", "partition": 6}
2023-08-01 09:12:17.210	[37mDEBUG[0m	[37m[PID:496][0m	[37mmsgTransfer[0m	[msgtransfer/online_msg_to_mongo_handler.go:103]	online new session msg come	{"highWaterMarkOffset": 0, "topic": "offlineMsgToMongoMysql", "partition": 5}
2023-08-01 09:12:17.210	[37mDEBUG[0m	[37m[PID:497][0m	[37mmsgTransfer[0m	[msgtransfer/online_msg_to_mongo_handler.go:103]	online new session msg come	{"highWaterMarkOffset": 0, "topic": "offlineMsgToMongoMysql", "partition": 3}
2023-08-01 09:12:17.210	[37mDEBUG[0m	[37m[PID:497][0m	[37mmsgTransfer[0m	[msgtransfer/online_history_msg_handler.go:419]	online new session msg come	{"highWaterMarkOffset": 0, "topic": "latestMsgToRedis", "partition": 1}
2023-08-01 09:12:17.211	[37mDEBUG[0m	[37m[PID:496][0m	[37mmsgTransfer[0m	[msgtransfer/online_history_msg_handler.go:419]	online new session msg come	{"highWaterMarkOffset": 0, "topic": "latestMsgToRedis", "partition": 4}
2023-08-01 09:12:17.211	[37mDEBUG[0m	[37m[PID:496][0m	[37mmsgTransfer[0m	[msgtransfer/online_history_msg_handler.go:419]	online new session msg come	{"highWaterMarkOffset": 0, "topic": "latestMsgToRedis", "partition": 5}
